datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

model StackAudit {
  id            String   @id @default(uuid())
  stackName     String?
  stackType     String
  stackYaml     String
  score         Int
  valid         Boolean
  resultJson    String   // Store full response as JSON string
  createdAt     DateTime @default(now())
}

model CodeAudit {
  id              String   @id @default(uuid())
  filename        String
  language        String
  codeContent     String   @db.Text
  qualityScore    Int
  securityScore   Int
  performanceScore Int
  avgScore        Int
  issues          String   // Store JSON array of issues
  createdAt       DateTime @default(now())
}
